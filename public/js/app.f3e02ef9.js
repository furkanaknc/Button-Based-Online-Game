(function(){"use strict";var o={729:function(o,e,r){var t=r(9242),s=r(3396);const n={id:"app"};function a(o,e,r,t,a,i){const u=(0,s.up)("NavbarView"),l=(0,s.up)("ErrorView"),c=(0,s.up)("router-view"),m=(0,s.up)("FooterView");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(u),o.error?((0,s.wg)(),(0,s.j4)(l,{key:0,msg:o.error},null,8,["msg"])):(0,s.kq)("",!0),(0,s.Wm)(c),(0,s.Wm)(m)])}const i={id:"Navbar",class:"navbar navbar-expand-lg navbar-dark bg-dark"},u={class:"container-fluid"},l=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarSupportedContent"},m={class:"navbar-nav ms-auto mb-2 mb-lg-0"},d={class:"nav-item"},p={class:"nav-item"},f={key:0,class:"nav-item"},g={key:1,class:"nav-item"},b={key:2,class:"nav-item"};function h(o,e,r,n,a,h){const v=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",i,[(0,s._)("div",u,[(0,s.Wm)(v,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Better Call Luck")])),_:1}),l,(0,s._)("div",c,[(0,s._)("ul",m,[(0,s._)("li",d,[(0,s.Wm)(v,{class:"nav-link active","aria-current":"page",to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",p,[(0,s.Wm)(v,{class:"nav-link",to:"/about"},{default:(0,s.w5)((()=>[(0,s.Uk)("About")])),_:1})]),o.isLoggedIn?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",f,[(0,s.Wm)(v,{class:"nav-link",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1})])),o.isLoggedIn?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("li",g,[(0,s.Wm)(v,{class:"nav-link",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)("Register")])),_:1})])),o.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",b,[(0,s.Wm)(v,{to:"/logout",class:"nav-link",onClick:(0,t.iM)(h.logoutUser,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Uk)("Logout")])),_:1},8,["onClick"])])):(0,s.kq)("",!0)])])])])}var v=r(65),w={computed:{...(0,v.Se)(["isLoggedIn"])},methods:{...(0,v.nv)(["logout"]),logoutUser(){this.logout()}}},_=r(89);const k=(0,_.Z)(w,[["render",h]]);var y=k;const P=(0,s.uE)('<div class="footer mx-auto"><p>made by furkanaknc </p><a href="https://github.com/furkanaknc"><i class="fa-brands fa-github" style="color:#93B1A6;"></i></a><a href="https://www.linkedin.com/in/furkan-ak%C4%B1nc%C4%B1-486229178/"><i class="fa-brands fa-linkedin" style="color:#93B1A6;"></i></a></div>',1),R=[P];function C(o,e){return(0,s.wg)(),(0,s.iD)("footer",null,R)}const j={},q=(0,_.Z)(j,[["render",C]]);var I=q,S=r(7139);const V={class:"alert alert-danger"};function A(o,e,r,t,n,a){return(0,s.wg)(),(0,s.iD)("div",V,(0,S.zw)(r.msg),1)}var D={props:["msg"]};const E=(0,_.Z)(D,[["render",A],["__scopeId","data-v-7023dae4"]]);var x=E,N={components:{NavbarView:y,FooterView:I,ErrorView:x},computed:{...(0,v.Se)(["error"])}};const O=(0,_.Z)(N,[["render",a]]);var J=O,L=r(2483),Z=r.p+"img/logo.ebca4ba3.png";const U=o=>((0,s.dD)("data-v-2de56442"),o=o(),(0,s.Cn)(),o),F={class:"home-page"},T=U((()=>(0,s._)("div",{class:"home"},[(0,s._)("img",{class:"logo mx-auto",alt:"Vue logo",src:Z})],-1))),B={class:"buttons"},W={key:0,class:"create-room-popup mx-auto"},M={class:"form-group"},G=U((()=>(0,s._)("label",{for:"roomName"},"Room Name",-1))),z={class:"form-group"},H=U((()=>(0,s._)("label",{for:"password"},"Password",-1))),K=U((()=>(0,s._)("button",{type:"submit",class:"btn btn-create-room"},"Create",-1))),Y={key:1,class:"join-room-popup mx-auto"},$={class:"list-group room-list"},Q={class:"room-info"},X={class:"join-room-name"},oo={class:"join-room-btns"},eo=["onClick"],ro=["onClick"],to=U((()=>(0,s._)("br",null,null,-1))),so=U((()=>(0,s._)("br",null,null,-1))),no=U((()=>(0,s._)("br",null,null,-1))),ao=U((()=>(0,s._)("br",null,null,-1))),io={key:2,class:"join-room-popup password-popup mx-auto"},uo={class:"form-group"},lo=U((()=>(0,s._)("label",{for:"joinPassword"},"Password",-1))),co=U((()=>(0,s._)("button",{type:"submit",class:"btn join-room-popup-btn-join"},"Join",-1)));function mo(o,e,r,n,a,i){return(0,s.wg)(),(0,s.iD)("section",F,[T,(0,s._)("div",B,[a.isJoinRoomPopupVisible||a.isCreateRoomPopupVisible?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn start-btn-create",onClick:e[0]||(e[0]=o=>a.isCreateRoomPopupVisible=!0)},"Create Room")),a.isJoinRoomPopupVisible||a.isCreateRoomPopupVisible?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn start-btn-join",onClick:e[1]||(e[1]=o=>a.isJoinRoomPopupVisible=!0)},"Join Room"))]),a.isCreateRoomPopupVisible?((0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("form",{onSubmit:e[5]||(e[5]=(0,t.iM)(((...o)=>i.onCreateRoomSubmit&&i.onCreateRoomSubmit(...o)),["prevent"]))},[(0,s._)("div",M,[G,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.newRoom.name=o),id:"roomName",class:"form-control room-input",placeholder:"Room Name",name:"roomName",type:"text"},null,512),[[t.nr,a.newRoom.name]])]),(0,s._)("div",z,[H,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.newRoom.password=o),id:"password",class:"form-control room-input",placeholder:"Password",name:"password",type:"text"},null,512),[[t.nr,a.newRoom.password]])]),K,(0,s._)("button",{class:"btn btn-create-room-close",onClick:e[4]||(e[4]=o=>a.isCreateRoomPopupVisible=!1)},"Close")],32)])):(0,s.kq)("",!0),a.isJoinRoomPopupVisible&&!a.isPasswordPopupVisible?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("ul",$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.rooms,(o=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item room-list-name",key:o.shortId},[(0,s._)("div",Q,[(0,s._)("h1",X,(0,S.zw)(o.name),1),(0,s._)("div",oo,[(0,s._)("button",{class:"btn join-room-btn-password",onClick:e=>i.onPasswordPopup(o)},"Enter Password",8,eo),(0,s._)("button",{class:"btn join-room-btn-join",onClick:e=>i.directJoinRoom(o)},"Join",8,ro)])])])))),128))]),a.isPasswordPopupVisible?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn join-room-popup-btn-close",onClick:e[6]||(e[6]=o=>a.isJoinRoomPopupVisible=!1)},"Close")),to,so,no,ao])):(0,s.kq)("",!0),a.isPasswordPopupVisible?((0,s.wg)(),(0,s.iD)("div",io,[(0,s._)("form",{onSubmit:e[9]||(e[9]=(0,t.iM)(((...o)=>i.onJoinRoomSubmit&&i.onJoinRoomSubmit(...o)),["prevent"]))},[(0,s._)("div",uo,[lo,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>a.joinPassword=o),id:"joinPassword",class:"form-control room-input",placeholder:"Password",name:"joinPassword",type:"text"},null,512),[[t.nr,a.joinPassword]])]),co,(0,s._)("button",{class:"btn join-room-popup-btn-close",onClick:e[8]||(e[8]=o=>a.isPasswordPopupVisible=!1)},"Close")],32)])):(0,s.kq)("",!0)])}r(7658);var po={computed:{...(0,v.Se)(["rooms"])},data(){return{isCreateRoomPopupVisible:!1,newRoom:{name:"",password:""},isJoinRoomPopupVisible:!1,selectedRoomId:null,joinPassword:"",isPasswordPopupVisible:!1,currentRoom:null}},methods:{...(0,v.nv)(["createRoom","getRooms","joinRoom"]),async onCreateRoomSubmit(){try{const o=await this.createRoom(this.newRoom);o.data.room&&Co.push({name:"Game",params:{roomId:o.data.room.shortId}}),this.isCreateRoomPopupVisible=!1}catch(o){console.error("Error creating room:",o)}},onPasswordPopup(o){this.currentRoom=o,this.selectedRoomId=o.shortId,this.isPasswordPopupVisible=!0},directJoinRoom(o){o.requiresPassword?this.onPasswordPopup(o):(this.selectedRoomId=o.shortId,this.joinPassword="",this.onJoinRoomSubmit())},async onJoinRoomSubmit(){try{const o=await this.joinRoom({roomId:this.selectedRoomId,password:this.joinPassword});o.success?Co.push({name:"Game",params:{roomId:this.selectedRoomId}}):console.error("Failed to join room:",o.error)}catch(o){console.error("Error joining room:",o)}}},created(){this.getRooms(),document.body.style.backgroundColor="#93B1A6"},beforeUnmount(){document.body.style.backgroundColor=""}};const fo=(0,_.Z)(po,[["render",mo],["__scopeId","data-v-2de56442"]]);var go=fo,bo=r(4161);const ho={token:localStorage.getItem("token")||"",user:{},status:"",rooms:[],createdRoom:null,error:null},vo={isLoggedIn:o=>!!o.token,authState:o=>o.status,user:o=>o.user,error:o=>o.error,rooms:o=>o.rooms},wo={async login({commit:o},e){o("auth_request");try{let r=await bo.Z.post("/api/users/login",e);if(r.data.success){const e=r.data.token,t=r.data.user;localStorage.setItem("token",e),bo.Z.defaults.headers.common["Authorization"]=e,o("auth_success",e,t)}return r}catch(r){o("auth_error",r)}},async register({commit:o},e){try{o("register_request");let r=await bo.Z.post("/api/users/register",e);return void 0!==r.data.success&&o("register_success"),r}catch(r){o("register_error",r)}},async getProfile({commit:o}){o("profile_request");try{let e=await bo.Z.get("/api/users/profile");return e.data.user?o("user_profile_success",e.data.user):o("user_profile_error","Failed to fetch user profile"),e}catch(e){o("user_profile_error","Failed to fetch user profile"),console.error("Failed to fetch user profile:",e)}},async logout({commit:o}){await localStorage.removeItem("token"),o("logout"),delete bo.Z.defaults.headers.common["Authorization"],Co.push("/login")},async createRoom({commit:o},e){o("room_request");try{let r=await bo.Z.post("/api/rooms/create-room",e);return o("room_success",r.data.room),r}catch(r){o("room_error",r)}},async getRooms({commit:o}){o("rooms_request");try{let e=await bo.Z.get("/api/rooms/rooms");o("rooms_success",e.data.rooms)}catch(e){o("rooms_error",e)}},async joinRoom({commit:o},{roomId:e,password:r}){o("join_room_request");try{let t=await bo.Z.post("/api/rooms/verify",{roomId:e,password:r});return t.data.isPasswordCorrect?(o("join_room_success"),{success:!0}):(o("join_room_error","Password Incorrect"),{success:!1,error:"Password Incorrect"})}catch(t){throw o("join_room_error",t.response.data.msg||"Failed to verify room password"),console.error("Failed to verify room password:",t),t}}},_o={auth_request(o){o.error=null,o.status="loading"},auth_success(o,e,r){o.token=e,o.user=r,o.status="success",o.error=null},auth_error(o,e){o.error=e.response.data.msg},register_request(o){o.error=null,o.status="loading"},register_success(o){o.error=null,o.status="success"},register_error(o,e){o.error=e.response.data.msg},profile_request(o){o.status="loading",o.error=null},user_profile_success(o,e){o.user=e,o.status="success",o.error=null},user_profile_error(o,e){o.status="error",o.error=e},logout(o){o.error=null,o.status="",o.token="",o.user="",o.role=""},room_request(o){o.error=null,o.status="loading"},room_success(o,e){o.createdRoom=e,o.status="success",o.error=null},room_error(o,e){o.error=e.response.data.msg},rooms_request(o){o.error=null,o.status="loading"},rooms_success(o,e){o.rooms=e,o.status="success",o.error=null},rooms_error(o,e){o.error=e.response.data.msg},join_room_request(o){o.error=null,o.status="loading"},join_room_success(o){o.status="success",o.error=null},join_room_error(o,e){o.status="error",o.error=e}};var ko={state:ho,actions:wo,mutations:_o,getters:vo},yo=(0,v.MT)({state:{},getters:{},mutations:{},actions:{},modules:{auth:ko}});const Po=[{path:"/",name:"home",component:go,meta:{requireAuth:!0}},{path:"/about",name:"about",component:()=>r.e(219).then(r.bind(r,219)),meta:{requireAuth:!0}},{path:"/login",name:"login",component:()=>r.e(999).then(r.bind(r,7999)),meta:{requireGuest:!0}},{path:"/register",name:"register",component:()=>r.e(705).then(r.bind(r,5705)),meta:{requireGuest:!0}},{path:"/:roomId",name:"Game",component:()=>r.e(816).then(r.bind(r,5816)),meta:{requireAuth:!0}}],Ro=(0,L.p7)({history:(0,L.PO)("/"),routes:Po});Ro.beforeEach(((o,e,r)=>{o.matched.some((o=>o.meta.requireAuth))?yo.getters.isLoggedIn?r():r("login"):o.matched.some((o=>o.meta.requireGuest))&&yo.getters.isLoggedIn?r("/"):r()}));var Co=Ro;const jo=(0,t.ri)(J);jo.config.globalProperties.$http=bo.Z;const qo=localStorage.getItem("token");qo&&(bo.Z.defaults.headers.common["Authorization"]=qo),jo.use(yo).use(Co).mount("#app")}},e={};function r(t){var s=e[t];if(void 0!==s)return s.exports;var n=e[t]={exports:{}};return o[t].call(n.exports,n,n.exports,r),n.exports}r.m=o,function(){var o=[];r.O=function(e,t,s,n){if(!t){var a=1/0;for(c=0;c<o.length;c++){t=o[c][0],s=o[c][1],n=o[c][2];for(var i=!0,u=0;u<t.length;u++)(!1&n||a>=n)&&Object.keys(r.O).every((function(o){return r.O[o](t[u])}))?t.splice(u--,1):(i=!1,n<a&&(a=n));if(i){o.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=o.length;c>0&&o[c-1][2]>n;c--)o[c]=o[c-1];o[c]=[t,s,n]}}(),function(){r.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return r.d(e,{a:e}),e}}(),function(){r.d=function(o,e){for(var t in e)r.o(e,t)&&!r.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})}}(),function(){r.f={},r.e=function(o){return Promise.all(Object.keys(r.f).reduce((function(e,t){return r.f[t](o,e),e}),[]))}}(),function(){r.u=function(o){return"js/"+o+"."+{219:"875eb325",705:"e4707a30",816:"e0741c22",999:"e4267262"}[o]+".js"}}(),function(){r.miniCssF=function(o){return"css/"+o+"."+{219:"51ba0635",705:"d800e5ff",816:"59a15c66",999:"8ee5a9c4"}[o]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){r.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){var o={},e="client:";r.l=function(t,s,n,a){if(o[t])o[t].push(s);else{var i,u;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var m=l[c];if(m.getAttribute("src")==t||m.getAttribute("data-webpack")==e+n){i=m;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",e+n),i.src=t),o[t]=[s];var d=function(e,r){i.onerror=i.onload=null,clearTimeout(p);var s=o[t];if(delete o[t],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(o){return o(r)})),e)return e(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){r.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){if("undefined"!==typeof document){var o=function(o,e,r,t,s){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var a=function(r){if(n.onerror=n.onload=null,"load"===r.type)t();else{var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||e,u=new Error("Loading CSS chunk "+o+" failed.\n("+i+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=i,n.parentNode&&n.parentNode.removeChild(n),s(u)}};return n.onerror=n.onload=a,n.href=e,r?r.parentNode.insertBefore(n,r.nextSibling):document.head.appendChild(n),n},e=function(o,e){for(var r=document.getElementsByTagName("link"),t=0;t<r.length;t++){var s=r[t],n=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(n===o||n===e))return s}var a=document.getElementsByTagName("style");for(t=0;t<a.length;t++){s=a[t],n=s.getAttribute("data-href");if(n===o||n===e)return s}},t=function(t){return new Promise((function(s,n){var a=r.miniCssF(t),i=r.p+a;if(e(a,i))return s();o(t,i,null,s,n)}))},s={143:0};r.f.miniCss=function(o,e){var r={219:1,705:1,816:1,999:1};s[o]?e.push(s[o]):0!==s[o]&&r[o]&&e.push(s[o]=t(o).then((function(){s[o]=0}),(function(e){throw delete s[o],e})))}}}(),function(){var o={143:0};r.f.j=function(e,t){var s=r.o(o,e)?o[e]:void 0;if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(r,t){s=o[e]=[r,t]}));t.push(s[2]=n);var a=r.p+r.u(e),i=new Error,u=function(t){if(r.o(o,e)&&(s=o[e],0!==s&&(o[e]=void 0),s)){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,s[1](i)}};r.l(a,u,"chunk-"+e,e)}},r.O.j=function(e){return 0===o[e]};var e=function(e,t){var s,n,a=t[0],i=t[1],u=t[2],l=0;if(a.some((function(e){return 0!==o[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(u)var c=u(r)}for(e&&e(t);l<a.length;l++)n=a[l],r.o(o,n)&&o[n]&&o[n][0](),o[n]=0;return r.O(c)},t=self["webpackChunkclient"]=self["webpackChunkclient"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(729)}));t=r.O(t)})();
//# sourceMappingURL=app.f3e02ef9.js.map